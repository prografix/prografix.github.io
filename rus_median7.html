<html>
<head><title>Медиана семи чисел</title><link rel="stylesheet" type="text/css" href="stylle.css"></head>
<body bgcolor=#eeeeba MARGINWIDTH=0 MARGINHEIGHT=0 link=#0000F0 alink=#aaaaFF vlink=#339900>
<div align="center"><center>
<table width="800" cellspacing="0" cellpadding="0">
<div align=center><br>
<font color="" style="font-size: 20pt">Медиана семи чисел</font>
</div><td><br>
<p>
Алгоритм поиска медианы семи чисел:
<br>1. Разбиваем первые шесть чисел на пары и упорядочиваем каждую по возрастанию. На это уйдёт 3 сравнения.
<br>2. Если максимум второй пары больше максимума третьей меняем их меcтами ( 1 сравнение ).
<br>3. Если максимум первой пары больше максимума второй переходим к пункту 9 ( 1 сравнение ).
<br>4. В этом случае максимум третьей пары больше пяти чисел и медианой быть не может,
поэтому его отбрасываем и делаем новую пару с седьмым числом ( 1 сравнение ).
<br>5. Если максимум третьей пары больше максимума первой переходим к пункту 8 ( 1 сравнение ).
<br>6. Отбрасываем максимум второй пары - он больше пяти чисел и минимум третьей пары - он меньше 3-х чисел.
Если минимум второй пары больше максимума третьей пары ( 1 сравнение ) переходим к пункту 7.
Иначе медианой будет больший из двух чисел ( 1 сравнение ) - минимум первой пары и максимума третьей. Конец.
<br>7. В этом случае остаются три числа и одно сравнение. Чтобы определить их медиану понадобится ещё одно или
два сравнения. Конец.
<br>8. В этом случае минимум первой пары меньше трёх чисел, поэтому медианой быть не может.
Сравниваем минимумы третьей и второй пары ( 1 сравнение ). После этого отбрасываем ещё два числа. 
Останется три и мы можем найти их медиану добавив одно или два сравнения. Конец.
<br>9. Если максимум второй пары больше седьмого числа переходим к пункту 11 ( 1 сравнение ).
<br>10. В этом случае минимум второй пары меньше 4-х чисел, поэтому медианой быть не может.
Сравниваем минимумы первой и третьей пары ( 1 сравнение ). Если меньше минимум первой пары,
то отбрасываем максимум третьей иначе наоборот. Останется пять чисел и четыре сравнения для
которых нужно найти медиану. На это понадобится 2 или 3 сравнения. Конец.
<br>11. В этом случае отбрасываем максимумы первой и третьей пар, т.к. они больше 4-х чисел. 
Сравниваем минимумы первой и третьей пары, а затем полученный максимум с максимумом второй пары ( 2 сравнения ).
Если полученный максимум меньше переходим пункту 12. Иначе отбрасываем этот максимум т.к. он больше всех
оставшихся чисел, а также минимум второй пары и седьмое число. 
Из оставшихся двух чисел медианой будет большее ( 1 сравнение ). Конец.
<br>12. В этом случае отбрасываем максимум второй пары и минимум новой пары. Из трёх оставшихся чисел 
медианой будет большее ( 2 сравнения ). Конец.
</p>
<p>В лучшем случае медиана будет найдена за 9 сравнений, в худшем - за 10. Если рассмотреть
все 7! = 5040 перестановок 7 чисел, то получим следующую статистику:
</p>
<pre>
		 9 - 2272
		10 - 2832
</pre>
<p>В среднем получается 9.549 сравнений.
</p>
<p>Алгоритм реализован в виде шаблона-функции:
<pre>
template&lt;class T> inline T _median7 ( const T * a ) ...
</pre>
</p>
<p>Исходники находятся в файле <a href="source/source.zip">median.h</a>.
</p>
<a href="rus_sort.html">Наверх</a>
</td></table>
<pre>

</pre>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-10825496-1");
pageTracker._trackPageview();
} catch(err) {}
</script>
</body>
</html>
